<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YOLO 在线工具箱</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/warn.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/task.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/inference.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/finetune.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/validate.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/model-management.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/SignupAndLogin.css') }}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
    <style>
        .content-nav-button svg {
            width: 60%;
            height: 60%;
            display: block;
            margin: auto;
        }
        .tool-button .tool-button-icon {
            width: 50%;
            height: auto;
            max-height: 60%;
            display: block;
            margin-bottom: 15px;
        }
        .tool-button .tool-button-icon svg{
             width: 100%;
             height: 100%;
        }
    </style>
</head>
<body>
    <div class="auth-links">
        <a href="#" id="login-link">登录</a>
        <a href="#" id="signup-link">注册</a>
    </div>
    <header>
        <h1 class="rainbow-text">YOLO在线工具箱</h1>
    </header>
    <main class="button-container">
        <button class="tool-button" id="button-infer" data-section="inference">
            <div class="tool-button-icon">
                <svg t="1746254108152" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12562"><path d="M403.9693 403.9693m-354.818637 0a354.818637 354.818637 0 1 0 709.637274 0 354.818637 354.818637 0 1 0-709.637274 0Z" fill="#ABD6FF" p-id="12563"></path><path d="M403.9693 807.9386C181.218495 807.9386 0 626.720105 0 403.9693S181.218495 0 403.9693 0s403.9693 181.218495 403.9693 403.9693-181.218495 403.9693-403.9693 403.9693z m0-709.637274C235.421846 98.301326 98.301326 235.421846 98.301326 403.9693s137.12052 305.667974 305.667974 305.667974 305.667974-137.12052 305.667974-305.667974S572.516754 98.301326 403.9693 98.301326z" fill="#666666" p-id="12564"></path><path d="M698.308046 611.409674l325.687039 325.687039-86.888542 86.888542-325.687039-325.687039z" fill="#666666" p-id="12565"></path></svg>
            </div>
            <span>推理</span>
        </button>
        <button class="tool-button" id="button-finetune" data-section="finetune">
            <div class="tool-button-icon">
                <svg t="1746254141369" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14483"><path d="M1016.832 606.208q2.048 12.288-1.024 29.696t-10.24 35.328-17.408 32.256-22.528 20.48-21.504 6.144-20.48-4.096q-10.24-3.072-25.6-5.632t-31.232-1.024-31.744 6.656-27.136 17.408q-24.576 25.6-28.672 58.368t9.216 62.464q10.24 20.48-3.072 40.96-6.144 8.192-19.456 16.896t-29.184 15.872-33.28 11.264-30.72 4.096q-9.216 0-17.408-7.168t-11.264-15.36l-1.024 0q-11.264-31.744-38.4-54.784t-62.976-23.04q-34.816 0-62.976 23.04t-39.424 53.76q-5.12 12.288-15.36 17.92t-22.528 5.632q-14.336 0-32.256-5.12t-35.84-12.8-32.256-17.92-21.504-20.48q-5.12-7.168-5.632-16.896t7.68-27.136q11.264-23.552 8.704-53.76t-26.112-55.808q-14.336-15.36-34.816-19.968t-38.912-3.584q-21.504 1.024-44.032 8.192-14.336 4.096-28.672-2.048-11.264-4.096-20.992-18.944t-17.408-32.768-11.776-36.864-2.048-31.232q3.072-22.528 20.48-28.672 30.72-12.288 55.296-40.448t24.576-62.976q0-35.84-24.576-62.464t-55.296-38.912q-9.216-3.072-15.36-14.848t-6.144-24.064q0-13.312 4.096-29.696t10.752-31.744 15.36-28.16 18.944-18.944q8.192-5.12 15.872-4.096t16.896 4.096q30.72 12.288 64 7.68t58.88-29.184q12.288-12.288 17.92-30.208t7.168-35.328 0-31.744-2.56-20.48q-2.048-6.144-3.584-14.336t1.536-14.336q6.144-14.336 22.016-25.088t34.304-17.92 35.84-10.752 27.648-3.584q13.312 0 20.992 8.704t10.752 17.92q11.264 27.648 36.864 48.64t60.416 20.992q35.84 0 63.488-19.968t38.912-50.688q4.096-8.192 12.8-16.896t17.92-8.704q14.336 0 31.232 4.096t33.28 11.264 30.208 18.432 22.016 24.576q5.12 8.192 3.072 17.92t-4.096 13.824q-13.312 29.696-8.192 62.464t29.696 57.344 60.416 27.136 66.56-11.776q8.192-5.12 19.968-4.096t19.968 9.216q15.36 14.336 27.136 43.52t15.872 58.88q2.048 17.408-5.632 27.136t-15.872 12.8q-31.744 11.264-54.272 39.424t-22.528 64q0 34.816 18.944 60.928t49.664 37.376q7.168 4.096 12.288 8.192 11.264 9.216 15.36 23.552zM540.672 698.368q46.08 0 87.04-17.408t71.168-48.128 47.616-71.168 17.408-86.528-17.408-86.528-47.616-70.656-71.168-47.616-87.04-17.408-86.528 17.408-70.656 47.616-47.616 70.656-17.408 86.528 17.408 86.528 47.616 71.168 70.656 48.128 86.528 17.408z" p-id="14484"></path></svg>
            </div>
            <span>微调</span>
        </button>
        <button class="tool-button" id="button-validate" data-section="validate">
            <div class="tool-button-icon">
                 <svg t="1746254173117" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15865"><path d="M170.002 251.225h216.282v66.944H170.002zM647.115 670.824h216.282v55.68H647.115zM647.115 770.275h216.282v55.68H647.115zM651.928 253.429h76.801v-85.95h48.467v85.95h81.389v47.34h-81.389v82.954h-47.34v-82.954h-77.928zM191.023 804.477l54.306-54.306-60.776-60.776 34.272-34.271 60.775 60.775 57.551-57.55 33.475 33.474-57.551 57.551 58.658 58.658-33.475 33.474-58.658-58.658-55.103 55.104z" fill="#FF8E5C" p-id="15866"></path><path d="M531.596 275.003c0 145.036-117.575 262.61-262.61 262.61S6.375 420.039 6.375 275.003s117.575-262.61 262.61-262.61 262.611 117.574 262.611 262.61zM275.006 96.097c-99.667 0-180.463 80.796-180.463 180.463s80.796 180.463 180.463 180.463 180.463-80.796 180.463-180.463S374.673 96.097 275.006 96.097z" fill="#FF8E5C" p-id="15867"></path><path d="M1016.987 272.601c0 145.036-117.575 262.61-262.61 262.61s-262.61-117.575-262.61-262.61S609.341 9.991 754.377 9.991s262.61 117.575 262.61 262.61zM757.035 89.65c-99.667 0-180.463 80.796-180.463 180.463s80.796 180.463 180.463 180.463 180.463-80.796 180.463-180.463S856.702 89.65 757.035 89.65zM531.596 747.791c0 145.036-117.575 262.61-262.61 262.61S6.375 892.827 6.375 747.791s117.575-262.61 262.61-262.61 262.611 117.575 262.611 262.61z m-256.59-174.93c-99.667 0-180.463 80.796-180.463 180.463s80.796 180.463 180.463 180.463 180.463-80.796 180.463-180.463-80.796-180.463-180.463-180.463z" fill="#FF8E5C" p-id="15868"></path><path d="M1018.025 748.39c0 145.036-117.575 262.61-262.61 262.61s-262.61-117.575-262.61-262.61 117.575-262.61 262.61-262.61 262.61 117.574 262.61 262.61zM758.073 572.089c-99.667 0-180.463 80.796-180.463 180.463s80.796 180.463 180.463 180.463 180.463-80.796 180.463-180.463-80.797-180.463-180.463-180.463z" fill="#FF8E5C" p-id="15869"></path></svg>
            </div>
            <span>验证</span>
        </button>
    </main>

    <div id="content-view" class="hidden">
        <div id="content-area">
            <div class="content-header">
                <button id="back-button" class="content-nav-button top-left" title="返回上一级">
                    <svg t="1746254054182" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9447">
                        <path d="M490.66666667 576l0-128 458.688-1e-8c29.44 0 53.312 23.872 53.312 53.31200001l0 21.376A53.312 53.312 0 0 1 949.35466667 576.00000001L490.66666667 576z" p-id="9448"></path>
                        <path d="M409.38666666 781.824l-358.07999999-220.79999999a53.312 53.312 0 0 1-0.57600001-90.43200001l358.08000001-226.752A53.312 53.312 0 0 1 490.66666667 288.896L490.66666667 736.448a53.312 53.312 0 0 1-81.28 45.44z" p-id="9449"></path>
                    </svg>
                </button>
                <h2 id="content-title"></h2>
                <button id="tasks-button" class="content-nav-button top-right hidden" title="已有的任务">
                    <svg t="1746254075952" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9591">
                        <path d="M533.33333333 448l0 128-458.688 1e-8c-29.44 0-53.312-23.872-53.312-53.31200001l0-21.376A53.312 53.312 0 0 1 74.64533333 447.99999999L533.33333333 448z" p-id="9592"></path>
                        <path d="M614.61333334 242.176l358.07999999 220.8a53.312 53.312 0 0 1 0.576 90.432l-358.08 226.752A53.312 53.312 0 0 1 533.33333333 735.104L533.33333333 287.552a53.312 53.312 0 0 1 81.28-45.44z" p-id="9593"></path>
                    </svg>
                </button>
            </div>
            <div id="content-placeholder">
                <div id="inference-content" class="content-section hidden" data-title="推理功能区">
                    <div class="inference-controls-row">
                        <button class="inference-button model-folder-button" title="管理模型">
                            <svg t="1746276001690" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2595">
                                <path d="M855.04 385.024q19.456 2.048 38.912 10.24t33.792 23.04 21.504 37.376 2.048 54.272q-2.048 8.192-8.192 40.448t-14.336 74.24-18.432 86.528-19.456 76.288q-5.12 18.432-14.848 37.888t-25.088 35.328-36.864 26.112-51.2 10.24l-567.296 0q-21.504 0-44.544-9.216t-42.496-26.112-31.744-40.96-12.288-53.76l0-439.296q0-62.464 33.792-97.792t95.232-35.328l503.808 0q22.528 0 46.592 8.704t43.52 24.064 31.744 35.84 12.288 44.032l0 11.264-53.248 0q-40.96 0-95.744-0.512t-116.736-0.512-115.712-0.512-92.672-0.512l-47.104 0q-26.624 0-41.472 16.896t-23.04 44.544q-8.192 29.696-18.432 62.976t-18.432 61.952q-10.24 33.792-20.48 65.536-2.048 8.192-2.048 13.312 0 17.408 11.776 29.184t29.184 11.776q31.744 0 43.008-39.936l54.272-198.656q133.12 1.024 243.712 1.024l286.72 0z" p-id="2596"></path>
                            </svg>
                        </button>
                
                        <div class="inference-dropdown-container">
                             <select id="model-select" class="inference-dropdown" required>
                                 <option value="" disabled selected>请选择模型...</option>
                             </select>
                        </div>
                        <button id="load-model-button" class="inference-button load-model-button state-load">
                            载入
                        </button>
                    </div>
                    <div class="inference-upload-area">
                        <div class="upload-box" id="inference-upload-box">
                            <div class="upload-icon-container">
                                <svg class="icon plus-icon" t="1746277582531" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3575">
                                    <path d="M925.696 384q19.456 0 37.376 7.68t30.72 20.48 20.48 30.72 7.68 37.376q0 20.48-7.68 37.888t-20.48 30.208-30.72 20.48-37.376 7.68l-287.744 0 0 287.744q0 20.48-7.68 37.888t-20.48 30.208-30.72 20.48-37.376 7.68q-20.48 0-37.888-7.68t-30.208-20.48-20.48-30.208-7.68-37.888l0-287.744-287.744 0q-20.48 0-37.888-7.68t-30.208-20.48-20.48-30.208-7.68-37.888q0-19.456 7.68-37.376t20.48-30.72 30.208-20.48 37.888-7.68l287.744 0 0-287.744q0-19.456 7.68-37.376t20.48-30.72 30.208-20.48 37.888-7.68q39.936 0 68.096 28.16t28.16 68.096l0 287.744 287.744 0z" p-id="3576"></path>
                                </svg>
                            </div>
                            <p class="upload-text" id="inference-upload-text">上传图像或图集</p>
                        </div>
                        <button class="clear-upload-button" id="inference-clear-button" title="清除上传">
                            <svg t="1746277655358" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4559">
                                <path d="M512 909.061224c-218.906122 0-397.061224-178.155102-397.061224-397.061224s178.155102-397.061224 397.061224-397.061224 397.061224 178.155102 397.061224 397.061224-178.155102 397.061224-397.061224 397.061224z" fill="#E5404F" p-id="4560"></path>
                                <path d="M363.102041 680.75102c-5.22449 0-9.926531-2.089796-14.106123-5.746938-7.836735-7.836735-7.836735-20.37551 0-28.212245l297.795919-297.795919c7.836735-7.836735 20.37551-7.836735 28.212245 0 7.836735 7.836735 7.836735 20.37551 0 28.212245l-297.795919 297.795919c-4.179592 3.657143-8.881633 5.746939-14.106122 5.746938z" fill="#FFEEF0" p-id="4561"></path>
                                <path d="M660.897959 680.75102c-5.22449 0-9.926531-2.089796-14.106122-5.746938l-297.795919-297.795919c-7.836735-7.836735-7.836735-20.37551 0-28.212245 7.836735-7.836735 20.37551-7.836735 28.212245 0l297.795919 297.795919c7.836735 7.836735 7.836735 20.37551 0 28.212245-4.179592 3.657143-8.881633 5.746939-14.106123 5.746938z" fill="#FFEEF0" p-id="4562"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="inference-metrics-area" id="inference-metrics">
                            <div class="metric-item">
                                <span class="metric-label">状态:</span>
                                <span class="metric-value" id="metric-status">未开始</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">检测成功数:</span>
                                <span class="metric-value" id="metric-resolution">-</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">检测耗时:</span>
                                <span class="metric-value" id="metric-time">-</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">目标数量:</span>
                                <span class="metric-value" id="metric-objects">-</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">平均置信度:</span>
                                <span class="metric-value" id="metric-confidence">-</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">平均IoU:</span>
                                <span class="metric-value" id="metric-iou">-</span>
                            </div>
                    </div>
                    <div class="inference-action-buttons">
                            <button class="inference-action-button settings-button" id="settings-button">
                                参数设置
                            </button>
                            <button class="inference-action-button start-button" id="start-detection-button">
                                开始检测
                            </button>
                            <button class="inference-action-button save-button" id="save-results-button" disabled>
                                保存结果
                            </button>
                    </div>
                    <div id="settings-overlay" class="hidden"></div>
                    <div id="inference-settings-content" class="settings-panel hidden">
                        <button id="close-settings-button" class="settings-panel-close-button" title="关闭设置">
                            <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                                <path d="M512 456.311111L805.155556 163.155556a38.4 38.4 0 1 1 54.311111 54.311111L566.311111 512l293.155556 294.533333a38.4 38.4 0 1 1-54.311111 54.311111L512 567.688889 218.844444 861.844444a38.4 38.4 0 1 1-54.311111-54.311111L457.688889 512 164.533333 217.466667a38.4 38.4 0 0 1 54.311111-54.311111L512 456.311111z" fill="#666666"></path>
                            </svg>
                        </button>
                        <h3 class="settings-panel-title">推理参数设置</h3>
                        <div class="settings-form-grid">
                            <div class="setting-item">
                                <label for="setting-confidence" class="setting-label">置信度阈值:</label>
                                <input type="range" id="setting-confidence" name="confidence" min="0.01" max="1.0" step="0.01" class="setting-slider">
                                <span class="setting-value" id="setting-confidence-value">0.25</span>
                            </div>
                            <div class="setting-item">
                                <label for="setting-iou" class="setting-label">IoU 阈值:</label>
                                <input type="range" id="setting-iou" name="iou" min="0.01" max="1.0" step="0.01" class="setting-slider">
                                <span class="setting-value" id="setting-iou-value">0.45</span>
                            </div>
                            <div class="setting-item">
                                <label for="setting-imgsz" class="setting-label">图像尺寸 (px):</label>
                                <input type="number" id="setting-imgsz" name="imgsz" min="32" max="2048" step="32" value="640" class="setting-input">
                            </div>
                            <div class="setting-item">
                                <label class="setting-label">推理设备:</label>
                                <div class="setting-radio-group">
                                    <label><input type="radio" name="device" value="cpu" checked> CPU</label>
                                    <label><input type="radio" name="device" value="cuda:0"> GPU</label>
                                </div>
                            </div>
                            <div class="setting-item">
                                <label for="setting-half" class="setting-label">半精度 (FP16):</label>
                                <input type="checkbox" id="setting-half" name="half" class="setting-checkbox">
                            </div>
                            <div class="setting-item">
                                <label for="setting-augment" class="setting-label">增强推理:</label>
                                <input type="checkbox" id="setting-augment" name="augment" class="setting-checkbox">
                            </div>
                            <div class="setting-item">
                                <label for="setting-max-det" class="setting-label">最大检测数:</label>
                                <input type="number" id="setting-max-det" name="max_det" min="1" max="1000" step="1" value="300" class="setting-input">
                            </div>
                        </div>
                        <div class="settings-io-buttons">
                            <button id="import-config-button" class="setting-io-button">导入配置</button>
                            <button id="export-config-button" class="setting-io-button">导出配置</button>
                        </div>
                        <input type="file" id="config-file-input" accept=".json" style="display: none;">
                    </div>
                </div>
                <div id="model-management-content" class="content-section hidden" data-title="模型管理">
                    <button class="model-management-button upload-model-button" id="upload-model-trigger">上传模型</button>
                    <input type="file" id="model-file-input" style="display: none;" accept=".pt,.onnx">

                    <div class="model-list-header">
                        <span class="header-name">模型名称</span>
                        <span class="header-date">修改日期</span>
                        <span class="header-size">大小</span>
                        <span class="header-actions">操作</span>
                    </div>
                    <div id="model-list-container">

                    </div>
                     <p id="no-models-message" class="hidden" style="text-align: center; margin-top: 30px; color: #888;">暂无模型，请上传。</p>
                </div>

                <div id="finetune-content" class="content-section hidden" data-title="微调功能区">
                    <div class="task-creation-layout">
                        <div class="left-panel">
                            <div class="panel-section task-name-section">
                                <div class="panel-header">
                                    <h3>任务名称</h3>
                                </div>
                                <input type="text" id="finetune-task-name-input" class="styled-input" placeholder="my_cat_detector_v1">
                           </div>
                            <div class="panel-section model-selection-section">
                                <div class="panel-header">
                                    <h3>基础模型</h3>
                                    <button class="clear-button clear-model-button hidden" title="清除已选/已上传模型">
                                        <svg t="1746556847003" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2900"><path d="M513.43007 1019.262092c-280.20375 0-507.388982-227.207745-507.388982-507.410472 0-280.224216 227.185232-507.409448 507.388982-507.409448 280.247752 0 507.391029 227.185232 507.391029 507.409448C1020.821099 792.054347 793.678846 1019.262092 513.43007 1019.262092zM746.107387 363.903034c9.540284-9.53926 9.540284-25.021883 0-34.539654l-51.822272-51.800783c-9.535167-9.558703-24.977881-9.558703-34.518165 0L512.976746 424.334381 366.184495 277.562597c-9.53619-9.558703-24.977881-9.558703-34.518165 0l-51.822272 51.800783c-9.538237 9.517771-9.538237 25.001417 0 34.539654l146.793274 146.770761-146.793274 146.790204c-9.538237 9.518794-9.538237 25.004487 0 34.540677l51.822272 51.79976c9.540284 9.538237 24.981974 9.538237 34.518165 0L512.976746 597.014232l146.790204 146.790204c9.540284 9.538237 24.982998 9.538237 34.518165 0l51.822272-51.79976c9.540284-9.53619 9.540284-25.021883 0-34.540677L599.317183 510.674818 746.107387 363.903034z" fill="#d81e06" p-id="2901"></path></svg>
                                    </button>
                                </div>
                                <select id="finetune-preset-model-select" class="styled-select">
                                    <option value="" disabled selected>选择预设模型</option>
                                    <option value="yolov8n">yolov8n</option>
                                    <option value="yolov8s">yolov8s</option>
                                    <option value="yolov8m">yolov8m</option>
                                    <option value="yolov8l">yolov8l</option>
                                    <option value="yolov8x">yolov8x</option>
                                </select>
                                <button id="finetune-upload-model-button" class="upload-button-styled">
                                    <span class="button-text">上传模型</span>
                                </button>
                                <input type="file" id="finetune-model-file-input" class="hidden-file-input" accept=".pt">
                            </div>
                            <div class="panel-section dataset-upload-section">
                                <div class="panel-header">
                                    <h3>数据集</h3>
                                    <button class="clear-button clear-dataset-button hidden" title="清除已上传数据集">
                                         <svg t="1746556847003" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2900"><path d="M513.43007 1019.262092c-280.20375 0-507.388982-227.207745-507.388982-507.410472 0-280.224216 227.185232-507.409448 507.388982-507.409448 280.247752 0 507.391029 227.185232 507.391029 507.409448C1020.821099 792.054347 793.678846 1019.262092 513.43007 1019.262092zM746.107387 363.903034c9.540284-9.53926 9.540284-25.021883 0-34.539654l-51.822272-51.800783c-9.535167-9.558703-24.977881-9.558703-34.518165 0L512.976746 424.334381 366.184495 277.562597c-9.53619-9.558703-24.977881-9.558703-34.518165 0l-51.822272 51.800783c-9.538237 9.517771-9.538237 25.001417 0 34.539654l146.793274 146.770761-146.793274 146.790204c-9.538237 9.518794-9.538237 25.004487 0 34.540677l51.822272 51.79976c9.540284 9.538237 24.981974 9.538237 34.518165 0L512.976746 597.014232l146.790204 146.790204c9.540284 9.538237 24.982998 9.538237 34.518165 0l51.822272-51.79976c9.540284-9.53619 9.540284-25.021883 0-34.540677L599.317183 510.674818 746.107387 363.903034z" fill="#d81e06" p-id="2901"></path></svg>
                                    </button>
                                </div>
                                <button id="finetune-upload-dataset-button" class="upload-button-styled yellow-button">
                                    <div class="button-icon-container">
                                        <svg t="1746556685623" class="icon default-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1258"><path d="M64 448h896v128H64z" fill="#000000" p-id="1259"></path><path d="M576 64v896h-128V64z" fill="#000000" p-id="1260"></path></svg>
                                        <svg t="1746556717500" class="icon uploaded-icon hidden" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1417"><path d="M912 208H427.872l-50.368-94.176A63.936 63.936 0 0 0 321.056 80H112c-35.296 0-64 28.704-64 64v736c0 35.296 28.704 64 64 64h800c35.296 0 64-28.704 64-64v-608c0-35.296-28.704-64-64-64z m-800-64h209.056l68.448 128H912v97.984c-0.416 0-0.8-0.128-1.216-0.128H113.248c-0.416 0-0.8 0.128-1.248 0.128V144z m0 736v-96l1.248-350.144 798.752 1.216V784h0.064v96H112z" fill="#020202" p-id="1418"></path></svg>
                                    </div>
                                    <span class="button-text">上传数据集</span>
                                </button>
                                <input type="file" id="finetune-dataset-file-input" class="hidden-file-input" accept=".zip">
                                <button id="finetune-upload-yaml-button" class="upload-button-styled yaml-upload-button">
                                    <span class="button-text">配置 data.yaml</span>
                                </button>
                                <input type="file" id="finetune-yaml-file-input" class="hidden-file-input" accept=".yaml,.yml">
                                <p id="finetune-yaml-filename" class="uploaded-filename"></p>
                            </div>
                            <button id="finetune-start-button" class="action-button start-task-button">开始训练</button>
                        </div>
                        <div class="right-panel">
                            <div class="panel-section action-buttons-panel">
                                <div class="panel-header">
                                     <h3>参数管理</h3>
                                </div>
                                <div class="action-buttons-container">
                                    <button class="action-btn import-btn">导入参数</button>
                                    <button class="action-btn export-btn">导出参数</button>
                                </div>
                            </div>
                            <div class="panel-section training-params-section">
                                <div class="panel-header">
                                     <h3>训练超参数</h3>
                                </div>
                                <div class="params-grid">
                                    <div class="param-item">
                                        <label for="finetune-epochs">Epochs:</label>
                                        <input type="number" id="finetune-epochs" value="50" min="1">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-batch-size">Batch Size:</label>
                                        <input type="number" id="finetune-batch-size" value="16" min="1">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-imgsz">Image Size (px):</label>
                                        <input type="number" id="finetune-imgsz" value="640" step="32" min="32">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-lr0">初始学习率 (lr0):</label>
                                        <input type="number" id="finetune-lr0" value="0.01" step="0.001" min="0.0001">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-lrf">最终学习率因子 (lrf):</label>
                                        <input type="number" id="finetune-lrf" value="0.01" step="0.001" min="0.001">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-momentum">Momentum:</label>
                                        <input type="number" id="finetune-momentum" value="0.937" step="0.001" min="0">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-weight-decay">Weight Decay:</label>
                                        <input type="number" id="finetune-weight-decay" value="0.0005" step="0.0001" min="0">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-warmup-epochs">Warmup Epochs:</label>
                                        <input type="number" id="finetune-warmup-epochs" value="3" min="0">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-box">Box Loss Gain:</label>
                                        <input type="number" id="finetune-box" value="7.5" step="0.1" min="0">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-cls">Cls Loss Gain:</label>
                                        <input type="number" id="finetune-cls" value="0.5" step="0.1" min="0">
                                    </div>
                                     <div class="param-item">
                                        <label for="finetune-dfl">DFL Loss Gain:</label>
                                        <input type="number" id="finetune-dfl" value="1.5" step="0.1" min="0">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-patience">Patience (早停):</label>
                                        <input type="number" id="finetune-patience" value="50" min="1">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-optimizer">优化器 (Optimizer):</label>
                                        <select id="finetune-optimizer" class="styled-select">
                                            <option value="auto" selected>Auto</option>
                                            <option value="SGD">SGD</option>
                                            <option value="Adam">Adam</option>
                                            <option value="AdamW">AdamW</option>
                                        </select>
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-seed">随机种子 (Seed):</label>
                                        <input type="number" id="finetune-seed" value="0" min="0">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-workers">数据加载线程数 (Workers):</label>
                                        <input type="number" id="finetune-workers" value="8" min="0" max="128">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-amp">自动混合精度 (AMP):</label>
                                        <select id="finetune-amp" class="styled-select">
                                            <option value="true" selected>启用 (True)</option>
                                            <option value="false">禁用 (False)</option>
                                        </select>
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-label-smoothing">标签平滑 (Label Smoothing ε):</label>
                                        <input type="number" id="finetune-label-smoothing" value="0.0" step="0.001" min="0" max="0.1">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-save-period">Checkpoint保存间隔 (Epochs):</label>
                                        <input type="number" id="finetune-save-period" value="-1" min="-1">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-warmup-momentum">Warmup Momentum:</label>
                                        <input type="number" id="finetune-warmup-momentum" value="0.8" step="0.01" min="0" max="1">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-warmup-bias-lr">Warmup Bias LR:</label>
                                        <input type="number" id="finetune-warmup-bias-lr" value="0.1" step="0.01" min="0">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-cos-lr">余弦学习率 (Cosine LR):</label>
                                        <select id="finetune-cos-lr" class="styled-select">
                                            <option value="true" selected>启用 (True)</option>
                                            <option value="false">禁用 (False)</option>
                                        </select>
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-rect">矩形训练 (Rectangular Training):</label>
                                        <select id="finetune-rect" class="styled-select">
                                            <option value="false" selected>禁用 (False)</option>
                                            <option value="true">启用 (True)</option>
                                        </select>
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-cache-images">缓存图像 (Cache Images):</label>
                                        <select id="finetune-cache-images" class="styled-select">
                                            <option value="false" selected>不缓存 (None/False)</option>
                                            <option value="ram">内存 (RAM)</option>
                                            <option value="disk">磁盘 (Disk)</option>
                                        </select>
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-deterministic">确定性算法 (Deterministic):</label>
                                        <select id="finetune-deterministic" class="styled-select">
                                            <option value="false" selected>禁用 (False)</option>
                                            <option value="true">启用 (True)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="panel-section augmentation-params-section">
                                <div class="panel-header">
                                    <h3>数据增强</h3>
                                </div>
                                <div class="params-grid">
                                    <div class="param-item">
                                        <label for="finetune-degrees">Degrees (旋转±°):</label>
                                        <input type="number" id="finetune-degrees" value="0.0" step="0.1">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-translate">Translate (平移±):</label>
                                        <input type="number" id="finetune-translate" value="0.1" step="0.01">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-scale">Scale (缩放±):</label>
                                        <input type="number" id="finetune-scale" value="0.5" step="0.05">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-shear">Shear (剪切±°):</label>
                                        <input type="number" id="finetune-shear" value="0.0" step="0.1">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-perspective">Perspective (透视变换±):</label>
                                        <input type="number" id="finetune-perspective" value="0.0" step="0.0001">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-flipud">FlipUD (垂直翻转概率):</label>
                                        <input type="number" id="finetune-flipud" value="0.0" step="0.01" min="0" max="1">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-fliplr">FlipLR (水平翻转概率):</label>
                                        <input type="number" id="finetune-fliplr" value="0.5" step="0.01" min="0" max="1">
                                    </div>
                                     <div class="param-item">
                                        <label for="finetune-mosaic">Mosaic (概率):</label>
                                        <input type="number" id="finetune-mosaic" value="1.0" step="0.1" min="0" max="1">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-mixup">MixUp (概率):</label>
                                        <input type="number" id="finetune-mixup" value="0.0" step="0.1" min="0" max="1">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-copy-paste">CopyPaste (概率):</label>
                                        <input type="number" id="finetune-copy-paste" value="0.0" step="0.1" min="0" max="1">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-hsv-h">HSV-Hue (色调±):</label>
                                        <input type="number" id="finetune-hsv-h" value="0.015" step="0.001" min="0" max="0.5">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-hsv-s">HSV-Saturation (饱和度±):</label>
                                        <input type="number" id="finetune-hsv-s" value="0.7" step="0.05" min="0" max="1">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-hsv-v">HSV-Value (明度±):</label>
                                        <input type="number" id="finetune-hsv-v" value="0.4" step="0.05" min="0" max="1">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-erasing">Erasing (随机擦除概率):</label>
                                        <input type="number" id="finetune-erasing" value="0.4" step="0.01" min="0" max="1">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-crop-fraction">Crop Fraction (裁剪保留比例):</label>
                                        <input type="number" id="finetune-crop-fraction" value="1.0" step="0.01" min="0.0" max="1.0">
                                    </div>
                                    <div class="param-item">
                                        <label for="finetune-multi-scale">多尺度训练 (Multi-Scale):</label>
                                        <select id="finetune-multi-scale" class="styled-select">
                                            <option value="false">禁用 (False)</option>
                                            <option value="true" selected>启用 (True)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="finetune-tasks-content" class="content-section hidden" data-title="已有任务">
                    <div class="task-list-header finetune-header">
                        <span class="header-ft-name">任务名称</span>
                        <span class="header-ft-pid">任务ID</span>
                        <span class="header-ft-status">状态</span>
                        <span class="header-ft-actions">操作</span>
                    </div>
                    <div id="finetune-task-list-container" class="task-list-container">

                    </div>
                    <p id="no-finetune-tasks-message" class="hidden no-tasks-message">暂无微调任务。</p>
                </div>

                <div id="validate-content" class="content-section hidden" data-title="验证功能区">
                    <div class="task-creation-layout">
                        <div class="left-panel">
                            <div class="panel-section task-name-section">
                                <div class="panel-header">
                                    <h3>任务名称</h3>
                                </div>
                                <input type="text" id="validate-task-name-input" class="styled-input" placeholder="my_model_eval_on_coco">
                           </div>
                            <div class="panel-section model-selection-section">
                                <div class="panel-header">
                                    <h3>待验证模型</h3>
                                     <button class="clear-button clear-model-button hidden" title="清除已上传模型">
                                        <svg t="1746556847003" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2900"><path d="M513.43007 1019.262092c-280.20375 0-507.388982-227.207745-507.388982-507.410472 0-280.224216 227.185232-507.409448 507.388982-507.409448 280.247752 0 507.391029 227.185232 507.391029 507.409448C1020.821099 792.054347 793.678846 1019.262092 513.43007 1019.262092zM746.107387 363.903034c9.540284-9.53926 9.540284-25.021883 0-34.539654l-51.822272-51.800783c-9.535167-9.558703-24.977881-9.558703-34.518165 0L512.976746 424.334381 366.184495 277.562597c-9.53619-9.558703-24.977881-9.558703-34.518165 0l-51.822272 51.800783c-9.538237 9.517771-9.538237 25.001417 0 34.539654l146.793274 146.770761-146.793274 146.790204c-9.538237 9.518794-9.538237 25.004487 0 34.540677l51.822272 51.79976c9.540284 9.538237 24.981974 9.538237 34.518165 0L512.976746 597.014232l146.790204 146.790204c9.540284 9.538237 24.982998 9.538237 34.518165 0l51.822272-51.79976c9.540284-9.53619 9.540284-25.021883 0-34.540677L599.317183 510.674818 746.107387 363.903034z" fill="#d81e06" p-id="2901"></path></svg>
                                     </button>
                                </div>
                                <button id="validate-upload-model-button" class="upload-button-styled">
                                    <span class="button-text">上传待验证模型</span>
                                </button>
                                <input type="file" id="validate-model-file-input" class="hidden-file-input" accept=".pt">
                            </div>
                            <div class="panel-section dataset-upload-section">
                                <div class="panel-header">
                                    <h3>验证数据集</h3>
                                    <button class="clear-button clear-dataset-button hidden" title="清除已上传数据集">
                                         <svg t="1746556847003" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2900"><path d="M513.43007 1019.262092c-280.20375 0-507.388982-227.207745-507.388982-507.410472 0-280.224216 227.185232-507.409448 507.388982-507.409448 280.247752 0 507.391029 227.185232 507.391029 507.409448C1020.821099 792.054347 793.678846 1019.262092 513.43007 1019.262092zM746.107387 363.903034c9.540284-9.53926 9.540284-25.021883 0-34.539654l-51.822272-51.800783c-9.535167-9.558703-24.977881-9.558703-34.518165 0L512.976746 424.334381 366.184495 277.562597c-9.53619-9.558703-24.977881-9.558703-34.518165 0l-51.822272 51.800783c-9.538237 9.517771-9.538237 25.001417 0 34.539654l146.793274 146.770761-146.793274 146.790204c-9.538237 9.518794-9.538237 25.004487 0 34.540677l51.822272 51.79976c9.540284 9.538237 24.981974 9.538237 34.518165 0L512.976746 597.014232l146.790204 146.790204c9.540284 9.538237 24.982998 9.538237 34.518165 0l51.822272-51.79976c9.540284-9.53619 9.540284-25.021883 0-34.540677L599.317183 510.674818 746.107387 363.903034z" fill="#d81e06" p-id="2901"></path></svg>
                                    </button>
                                </div>
                                <button id="validate-upload-dataset-button" class="upload-button-styled yellow-button">
                                    <div class="button-icon-container">
                                        <svg t="1746556685623" class="icon default-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1258"><path d="M64 448h896v128H64z" fill="#000000" p-id="1259"></path><path d="M576 64v896h-128V64z" fill="#000000" p-id="1260"></path></svg>
                                        <svg t="1746556717500" class="icon uploaded-icon hidden" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1417"><path d="M912 208H427.872l-50.368-94.176A63.936 63.936 0 0 0 321.056 80H112c-35.296 0-64 28.704-64 64v736c0 35.296 28.704 64 64 64h800c35.296 0 64-28.704 64-64v-608c0-35.296-28.704-64-64-64z m-800-64h209.056l68.448 128H912v97.984c-0.416 0-0.8-0.128-1.216-0.128H113.248c-0.416 0-0.8 0.128-1.248 0.128V144z m0 736v-96l1.248-350.144 798.752 1.216V784h0.064v96H112z" fill="#020202" p-id="1418"></path></svg>
                                    </div>
                                    <span class="button-text">上传数据集</span>
                                </button>
                                <input type="file" id="validate-dataset-file-input" class="hidden-file-input" accept=".zip">
                                <button id="validate-upload-yaml-button" class="upload-button-styled yaml-upload-button">
                                    <span class="button-text">配置 data.yaml</span>
                                </button>
                                <input type="file" id="validate-yaml-file-input" class="hidden-file-input" accept=".yaml,.yml">
                                <p id="validate-yaml-filename" class="uploaded-filename"></p>
                            </div>
                            <button id="validate-start-button" class="action-button start-task-button">开始验证</button>
                        </div>
                        <div class="right-panel">
                            <div class="panel-section training-params-section">
                                <div class="panel-header">
                                     <h3>验证参数</h3>
                                </div>
                                <div class="params-grid">
                                    <div class="param-item">
                                        <label for="validate-batch-size">Batch Size:</label>
                                        <input type="number" id="validate-batch-size" value="16" min="1">
                                    </div>
                                    <div class="param-item">
                                        <label for="validate-imgsz">Image Size (px):</label>
                                        <input type="number" id="validate-imgsz" value="640" step="32" min="32">
                                    </div>
                                    <div class="param-item">
                                        <label for="validate-conf-thres">Conf Thres (置信度阈值):</label>
                                        <input type="number" id="validate-conf-thres" value="0.001" step="0.001" min="0.001" max="1.0">
                                    </div>
                                    <div class="param-item">
                                        <label for="validate-iou-thres">IoU Thres (NMS IoU阈值):</label>
                                        <input type="number" id="validate-iou-thres" value="0.6" step="0.01" min="0.01" max="1.0">
                                    </div>
                                    <div class="param-item">
                                        <label for="validate-split">数据集划分 (Split):</label>
                                        <select id="validate-split" class="styled-select">
                                            <option value="val" selected>val</option>
                                            <option value="test">test</option>
                                            <option value="train">train</option>
                                        </select>
                                    </div>
                                    <div class="param-item">
                                        <label for="validate-max-det">最大检测数:</label>
                                        <input type="number" id="validate-max-det" value="300" min="1">
                                    </div>
                                    <div class="param-item">
                                        <label for="validate-half">半精度 (FP16):</label>
                                        <input type="checkbox" id="validate-half" name="half" class="setting-checkbox" checked>
                                    </div>
                                    <div class="param-item">
                                        <label for="validate-save-json">保存COCO JSON:</label>
                                        <input type="checkbox" id="validate-save-json" name="save_json" class="setting-checkbox">
                                    </div>
                                    <div class="param-item">
                                        <label for="validate-plots">生成结果图表:</label>
                                        <input type="checkbox" id="validate-plots" name="plots" class="setting-checkbox" checked>
                                    </div>
                                    <div class="param-item">
                                        <label for="validate-save-txt">保存TXT标签:</label>
                                        <input type="checkbox" id="validate-save-txt" name="save_txt" class="setting-checkbox">
                                    </div>
                                    <div class="param-item">
                                        <label for="validate-augment">测试时增强(TTA):</label>
                                        <input type="checkbox" id="validate-augment" name="augment" class="setting-checkbox">
                                    </div>
                                     <div class="param-item">
                                        <label for="validate-rect">矩形推理:</label>
                                        <input type="checkbox" id="validate-rect" name="rect" class="setting-checkbox">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="validate-tasks-content" class="content-section hidden" data-title="已有任务">
                   <div class="task-list-header validate-header">
                        <span class="header-val-name">任务名称</span>
                        <span class="header-val-pid">任务ID</span>
                        <span class="header-val-status">状态</span>
                        <span class="header-val-actions">操作</span>
                   </div>
                   <div id="validate-task-list-container" class="task-list-container">

                   </div>
                    <p id="no-validate-tasks-message" class="hidden no-tasks-message">暂无验证任务。</p>
               </div>
               <div id="login-content" class="content-section hidden auth-panel" data-title="用户登录">
                 <label for="login-username" class="auth-label">输入用户名</label>
                 <input type="text" id="login-username" name="username" class="auth-input" required>
                 <label for="login-password" class="auth-label">输入密码</label>
                 <div class="password-container">
                    <input type="password" id="login-password" name="password" class="auth-input" required>
                 </div>
                 <div class="auth-spacer"></div>
                 <button class="auth-action-button" id="login-submit-button">登录账号</button>
                </div>
                <div id="signup-content" class="content-section hidden auth-panel" data-title="用户注册">
                   <label for="signup-username" class="auth-label">输入用户名</label>
                   <input type="text" id="signup-username" name="username" class="auth-input" required>
                   <label for="signup-password" class="auth-label">输入密码</label>
                   <div class="password-container">
                       <input type="password" id="signup-password" name="password" class="auth-input" required>
                   </div>
                   <label for="signup-confirm-password" class="auth-label">确认密码</label>
                   <input type="password" id="signup-confirm-password" name="confirm_password" class="auth-input" required>
                   <div class="auth-spacer"></div>
                   <button class="auth-action-button" id="signup-submit-button">注册账号</button>
               </div>
            </div>
        </div>
    </div>
    <div id="task-details-overlay" class="modal-overlay hidden">
        <div id="task-details-modal" class="task-details-modal hidden">
            <div class="modal-header">
                <h3 class="modal-title">任务详情</h3>
                <button id="modal-close-button" class="settings-panel-close-button" title="关闭详情">
                    <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                        <path d="M512 456.311111L805.155556 163.155556a38.4 38.4 0 1 1 54.311111 54.311111L566.311111 512l293.155556 294.533333a38.4 38.4 0 1 1-54.311111 54.311111L512 567.688889 218.844444 861.844444a38.4 38.4 0 1 1-54.311111-54.311111L457.688889 512 164.533333 217.466667a38.4 38.4 0 0 1 54.311111-54.311111L512 456.311111z" fill="#666666"></path>
                    </svg>
                </button>
            </div>
            <div class="modal-body" id="task-details-body">
            </div>
            <div class="modal-footer" id="task-details-footer">
            </div>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/SignupAndLogin.js') }}"></script>
    <script src="{{ url_for('static', filename='js/warn.js') }}"></script>
    <script src="{{ url_for('static', filename='js/request.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/inference.js') }}"></script>
    <script src="{{ url_for('static', filename='js/finetune.js') }}"></script>
    <script src="{{ url_for('static', filename='js/validate.js') }}"></script>
    <script src="{{ url_for('static', filename='js/model-management.js') }}"></script>
</body>
</html>